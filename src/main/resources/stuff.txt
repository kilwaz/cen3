Things to improve:

Move the session object out of the message and into the data object?
figure out what to do with _ is part of variable from client, not from server to client

Try out wss connections to see if they work
Explore zipping the data of the websocket
consider making the sending of push messages its own thread

auto initialise objects in typescript that have arrived from web socket